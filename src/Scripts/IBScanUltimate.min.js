var HAS_NAME_PROPERTY_BUG,flashVersion,HAS_FLASH_THROTTLED_BUG,on,un,global=this,channelId=Math.floor(1e4*Math.random()),emptyFn=Function.prototype,reURI=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,reParent=/[\-\w]+\/\.\.\//,reDoubleSlash=/([^:])\/\//g,namespace="",easyXDM={},_easyXDM=window.easyXDM,IFRAME_PREFIX="easyXDM_",useHash=!1,_trace=emptyFn;function isHostMethod(e,t){var n=typeof e[t];return"function"==n||!("object"!=n||!e[t])||"unknown"==n}function isHostObject(e,t){return!("object"!=typeof e[t]||!e[t])}function isArray(e){return"[object Array]"===Object.prototype.toString.call(e)}function hasFlash(){var e="Shockwave Flash",t="application/x-shockwave-flash";if(undef(navigator.plugins)||"object"!=typeof navigator.plugins[e]||(n=navigator.plugins[e].description)&&!undef(navigator.mimeTypes)&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(flashVersion=n.match(/\d+/g)),!flashVersion)try{o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),flashVersion=Array.prototype.slice.call(o.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),o=null}catch(e){}if(!flashVersion)return!1;var n=parseInt(flashVersion[0],10),o=parseInt(flashVersion[1],10);return HAS_FLASH_THROTTLED_BUG=9<n&&0<o,!0}if(isHostMethod(window,"addEventListener"))on=function(e,t,n){_trace("adding listener "+t),e.addEventListener(t,n,!1)},un=function(e,t,n){_trace("removing listener "+t),e.removeEventListener(t,n,!1)};else{if(!isHostMethod(window,"attachEvent"))throw new Error("Browser not supported");on=function(e,t,n){_trace("adding listener "+t),e.attachEvent("on"+t,n)},un=function(e,t,n){_trace("removing listener "+t),e.detachEvent("on"+t,n)}}var readyState,doScrollCheck,domIsReady=!1,domReadyQueue=[];function dom_onReady(){if(!domIsReady){domIsReady=!0,_trace("firing dom_onReady");for(var e=0;e<domReadyQueue.length;e++)domReadyQueue[e]();domReadyQueue.length=0}}function whenReady(e,t){domIsReady?e.call(t):domReadyQueue.push(function(){e.call(t)})}function getParentObject(){var e=parent;if(""!==namespace)for(var t=0,n=namespace.split(".");t<n.length;t++){if(!e)throw new Error(n.slice(0,t+1).join(".")+" is not an object");e=e[n[t]]}if(!e||!e.easyXDM)throw new Error("Could not find easyXDM in parent."+namespace);return e.easyXDM}function noConflict(e){if("string"!=typeof e||!e)throw new Error("namespace must be a non-empty string");return _trace("Settings namespace to '"+e+"'"),window.easyXDM=_easyXDM,(namespace=e)&&(IFRAME_PREFIX="easyXDM_"+namespace.replace(".","_")+"_"),easyXDM}function getDomainName(e){if(!e)throw new Error("url is undefined or empty");return e.match(reURI)[3]}function getPort(e){if(!e)throw new Error("url is undefined or empty");return e.match(reURI)[4]||""}function getLocation(e){if(!e)throw new Error("url is undefined or empty");if(/^file/.test(e))throw new Error("The file:// protocol is not supported");var t=e.toLowerCase().match(reURI);if(!t)return"";var n=t[2],e=t[3],t=t[4]||"";return n+"//"+e+(t="http:"==n&&":80"==t||"https:"==n&&":443"==t?"":t)}function resolveUrl(e){if(!e)throw new Error("url is undefined or empty");var t;for((e=e.replace(reDoubleSlash,"$1/")).match(/^(http||https):\/\//)||("/"!==(t="/"===e.substring(0,1)?"":location.pathname).substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=location.protocol+"//"+location.host+t+e);reParent.test(e);)e=e.replace(reParent,"");return _trace("resolved url '"+e+"'"),e}function appendQueryParameters(e,t){if(!t)throw new Error("parameters is undefined or null");var n="",o=e.indexOf("#");-1!==o&&(n=e.substring(o),e=e.substring(0,o));var r,a=[];for(r in t)t.hasOwnProperty(r)&&a.push(r+"="+encodeURIComponent(t[r]));return e+(useHash?"#":-1==e.indexOf("?")?"?":"&")+a.join("&")+n}(domIsReady="readyState"in document?"complete"==(readyState=document.readyState)||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==readyState||"interactive"==readyState):!!document.body)||(isHostMethod(window,"addEventListener")?on(document,"DOMContentLoaded",dom_onReady):(on(document,"readystatechange",function(){"complete"==document.readyState&&dom_onReady()}),document.documentElement.doScroll&&window===top&&(doScrollCheck=function(){if(!domIsReady){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(doScrollCheck,1)}dom_onReady()}})()),on(window,"load",dom_onReady));var query=function(e){for(var t,n={},o=(e=e.substring(1).split("&")).length;o--;)n[(t=e[o].split("="))[0]]=decodeURIComponent(t[1]);return n}(/xdm_e=/.test(location.search)?location.search:location.hash);function undef(e){return void 0===e}var getJSON=function(){var e={},t={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(t).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===n&&(e.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(t=n.evalJSON()).a&&3===t.a.length&&3===t.a[2]&&(e.parse=function(e){return e.evalJSON()}),e.stringify&&e.parse?(getJSON=function(){return e},e):null)};function apply(e,t,n){var o,r;for(r in t)t.hasOwnProperty(r)&&(r in e?"object"==typeof(o=t[r])?apply(e[r],o,n):n||(e[r]=t[r]):e[r]=t[r]);return e}function testForNamePropertyBug(){var e=document.body.appendChild(document.createElement("form")),t=e.appendChild(document.createElement("input"));t.name=IFRAME_PREFIX+"TEST"+channelId,HAS_NAME_PROPERTY_BUG=t!==e.elements[t.name],document.body.removeChild(e),_trace("HAS_NAME_PROPERTY_BUG: "+HAS_NAME_PROPERTY_BUG)}function createFrame(e){var t;_trace("creating frame: "+e.props.src),undef(HAS_NAME_PROPERTY_BUG)&&testForNamePropertyBug(),HAS_NAME_PROPERTY_BUG?t=document.createElement('<iframe name="'+e.props.name+'"/>'):(t=document.createElement("IFRAME")).name=e.props.name,t.id=t.name=e.props.name,delete e.props.name,"string"==typeof e.container&&(e.container=document.getElementById(e.container)),e.container||(apply(t.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=document.body);var n=e.props.src;if(e.props.src="javascript:false",apply(t,e.props),t.border=t.frameBorder=0,t.allowTransparency=!0,e.container.appendChild(t),e.onLoad&&on(t,"load",e.onLoad),e.usePost){var o,r=e.container.appendChild(document.createElement("form"));if(r.target=t.name,r.action=n,r.method="POST","object"==typeof e.usePost)for(var a in e.usePost)e.usePost.hasOwnProperty(a)&&(HAS_NAME_PROPERTY_BUG?o=document.createElement('<input name="'+a+'"/>'):(o=document.createElement("INPUT")).name=a,o.value=e.usePost[a],r.appendChild(o));r.submit(),r.parentNode.removeChild(r)}else t.src=n;return e.props.src=n,t}function escapeRegExp(e){return e.replace(/[-[\]/{}()+.\^$|]/g,"\\$&").replace(/(\*)/g,".$1").replace(/\?/g,".")}function checkAcl(e,t){for(var n=(e="string"==typeof e?[e]:e).length;n--;){var o="^"===e[n].substr(0,1)&&"$"===e[n].substr(e[n].length-1,1)?e[n]:"^"+escapeRegExp(e[n])+"$";if((o=new RegExp(o)).test(t))return!0}return!1}function prepareTransportStack(e){var t,n=e.protocol;if(e.isHost=e.isHost||undef(query.xdm_p),useHash=e.hash||!1,_trace("preparing transport stack"),e.props||(e.props={}),e.isHost)e.channel=e.channel||"default"+channelId++,e.secret=Math.random().toString(16).substring(2),undef(n)?(n=getLocation(location.href)==getLocation(e.remote)?"4":isHostMethod(window,"postMessage")||isHostMethod(document,"postMessage")?"1":e.swf&&isHostMethod(window,"ActiveXObject")&&hasFlash()?"6":"Gecko"===navigator.product&&"frameElement"in window&&-1==navigator.userAgent.indexOf("WebKit")?"5":e.remoteHelper?"2":"0",_trace("selecting protocol: "+n)):_trace("using protocol: "+n);else if(_trace("using parameters from query"),e.channel=query.xdm_c.replace(/["'<>\\]/g,""),e.secret=query.xdm_s,e.remote=query.xdm_e.replace(/["'<>\\]/g,""),n=query.xdm_p,e.acl&&!checkAcl(e.acl,e.remote))throw new Error("Access denied for "+e.remote);switch(e.protocol=n="4"){case"0":if(apply(e,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),e.isHost){if(!e.local){_trace("looking for image to use as local");for(var o,r=location.protocol+"//"+location.host,a=document.body.getElementsByTagName("img"),_=a.length;_--;)if((o=a[_]).src.substring(0,r.length)===r){e.local=o.src;break}e.local||(_trace("no image found, defaulting to using the window"),e.local=window)}var i={xdm_c:e.channel,xdm_p:0};e.local===window?(e.usePolling=!0,e.useParent=!0,e.local=location.protocol+"//"+location.host+location.pathname+location.search,i.xdm_e=e.local,i.xdm_pa=1):i.xdm_e=resolveUrl(e.local),e.container&&(e.useResize=!1,i.xdm_po=1),e.remote=appendQueryParameters(e.remote,i)}else apply(e,{useParent:!undef(query.xdm_pa),usePolling:!undef(query.xdm_po),useResize:!e.useParent&&e.useResize});t=[new easyXDM.stack.HashTransport(e),new easyXDM.stack.ReliableBehavior({}),new easyXDM.stack.QueueBehavior({encode:!0,maxLength:4e3-e.remote.length}),new easyXDM.stack.VerifyBehavior({initiate:e.isHost})];break;case"1":t=[new easyXDM.stack.PostMessageTransport(e)];break;case"2":e.isHost&&(e.remoteHelper=resolveUrl(e.remoteHelper)),t=[new easyXDM.stack.NameTransport(e),new easyXDM.stack.QueueBehavior,new easyXDM.stack.VerifyBehavior({initiate:e.isHost})];break;case"3":t=[new easyXDM.stack.NixTransport(e)];break;case"4":t=[new easyXDM.stack.WebSocketTransport(e)];break;case"5":t=[new easyXDM.stack.FrameElementTransport(e)];break;case"6":flashVersion||hasFlash(),t=[new easyXDM.stack.FlashTransport(e)]}return t.push(new easyXDM.stack.QueueBehavior({lazy:e.lazy,remove:!0})),t}function chainStack(e){for(var t,n={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},o=0,r=e.length;o<r;o++)apply(t=e[o],n,!0),0!==o&&(t.down=e[o-1]),o!==r-1&&(t.up=e[o+1]);return t}function removeFromStack(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}apply(easyXDM,{version:"%%version%%",query:query,stack:{},apply:apply,getJSONObject:getJSON,whenReady:whenReady,noConflict:noConflict}),apply(easyXDM,{checkAcl:checkAcl,getDomainName:getDomainName,getLocation:getLocation,appendQueryParameters:appendQueryParameters});var debug={flush:function(){},getTime:function(){},log:function(e){},trace:function(e){},getTracer:function(e){return function(e){}}};easyXDM.DomHelper={on:on,un:un,requiresJSON:function(e){isHostObject(window,"JSON")?debug.log("native JSON found"):(debug.log("loading external JSON"),document.write('<script type="text/javascript" src="'+e+'"><\/script>'))}},function(){var o={};easyXDM.Fn={set:function(e,t){this._trace("storing function "+e),o[e]=t},get:function(e,t){if(this._trace("retrieving function "+e),o.hasOwnProperty(e)){var n=o[e];return n||this._trace(e+" not found"),t&&delete o[e],n}}},easyXDM.Fn._trace=debug.getTracer("easyXDM.Fn")}(),easyXDM.Rpc=function(t,e){var n;if(debug.getTracer("easyXDM.Rpc")("constructor"),e.local)for(var o in e.local)!e.local.hasOwnProperty(o)||"function"==typeof(n=e.local[o])&&(e.local[o]={method:n});var r=chainStack(prepareTransportStack(t).concat([new easyXDM.stack.RpcBehavior(this,e),{callback:function(e){t.onReady&&t.onReady(e)}}]));this.origin=getLocation(t.remote),this.context=t.context||null,this.destroy=function(){r.destroy()},r.init()},easyXDM.stack.WebSocketTransport=function(e){var t,n,r,o,a,_,i,s=debug.getTracer("easyXDM.stack.WebSocketTransport");return s("constructor"),r=!1,websocket_JSON_Post=function(e,t,n,o){a=n,_=r?void i.send(t):t},t={outgoing:function(e,t,n){websocket_JSON_Post(o,e,n,!0)},destroy:function(){s("destroy"),n&&(n.parentNode.removeChild(n),n=null)},onDOMReady:function(){s("init"),o=e.remote,(i=new WebSocket(o)).onopen=function(e){r=!0,_&&i.send(_)},i.onclose=function(e){r=!1},i.onerror=function(){r=!1,i&&i.close(),rpc=void 0,s("Lost connection to web SDK service"),setTimeout(()=>{i=new WebSocket(o)},5e3)},i.onmessage=function(e){a(e.data)}},init:function(){whenReady(t.onDOMReady,t)}}},easyXDM.stack.QueueBehavior=function(a){var _=debug.getTracer("easyXDM.stack.QueueBehavior");_("constructor");var i,e,s=[],n=!1,r="",E=0,c=!1,u=!1;function l(){if(a.remove&&0===s.length)return _("removing myself from the stack"),void removeFromStack(i);var t;n||0===s.length||e||(_("dispatching from queue"),n=!0,t=s.shift(),i.down.outgoing(t.data,t.origin,function(e){n=!1,t.callback&&setTimeout(function(){t.callback(e)},0),l()}))}return i={init:function(){(a=undef(a)?{}:a).maxLength&&(E=a.maxLength,u=!0),a.lazy?c=!0:i.down.init()},callback:function(e){n=!1;var t=i.up;l(),t.callback(e)},incoming:function(e,t){var n,o;u?(n=e.indexOf("_"),o=parseInt(e.substring(0,n),10),r+=e.substring(n+1),0===o?(_("received the last fragment"),a.encode&&(r=decodeURIComponent(r)),i.up.incoming(r,t),r=""):_("waiting for more fragments, seq="+e)):i.up.incoming(e,t)},outgoing:function(e,t,n){a.encode&&(e=encodeURIComponent(e));var o,r=[];if(u){for(;0!==e.length;)o=e.substring(0,E),e=e.substring(o.length),r.push(o);for(;o=r.shift();)_("enqueuing"),s.push({data:r.length+"_"+o,origin:t,callback:0===r.length?n:null})}else s.push({data:e,origin:t,callback:n});c?i.down.init():l()},destroy:function(){_("destroy"),e=!0,i.down.destroy()}}},easyXDM.stack.RpcBehavior=function(t,o){var n,i=debug.getTracer("easyXDM.stack.RpcBehavior"),r=o.serializer||getJSON(),_=0,s={};function E(e){e.jsonrpc="2.0",n.down.outgoing(r.stringify(e),"",n.incoming)}return n={incoming:function(e,t){var n=r.parse(e);n.method?(i("received request to execute method "+n.method+(n.id?" using callback id "+n.id:"")),o.handle?o.handle(n,E):function(e,n,t,o){if(!t)return i("requested to execute non-existent procedure "+e),n&&E({id:n,error:{code:-32601,message:"Procedure not found."}});var r,a;i("requested to execute procedure "+e),n?(r=function(e){r=emptyFn,E({id:n,result:e})},a=function(e,t){a=emptyFn;e={id:n,error:{code:-32099,message:e}};t&&(e.error.data=t),E(e)}):r=a=emptyFn,isArray(o)||(o=[o]);try{var _=t.method.apply(t.scope,o.concat([r,a]));undef(_)||r(_)}catch(e){a(e.message)}}(n.method,n.id,o.local[n.method],n.params)):(i("received return value destined to callback with id "+n.id),e=s[n.id],n.error?e.error?e.error(n.error):i("unhandled error returned."):e.success&&e.success(n.result),delete s[n.id])},init:function(){if(i("init"),o.remote)for(var e in i("creating stubs"),o.remote)o.remote.hasOwnProperty(e)&&(t[e]=function(o,r){var a=Array.prototype.slice;return i("creating method "+r),function(){i("executing method "+r);var e,t=arguments.length,n={method:r};0<t&&"function"==typeof arguments[t-1]?(1<t&&"function"==typeof arguments[t-2]?(e={success:arguments[t-2],error:arguments[t-1]},n.params=a.call(arguments,0,t-2)):(e={success:arguments[t-1]},n.params=a.call(arguments,0,t-1)),s[""+ ++_]=e,n.id=_):n.params=a.call(arguments,0),o.namedParams&&1===n.params.length&&(n.params=n.params[0]),E(n)}}(o.remote[e],e));n.down.init()},destroy:function(){for(var e in i("destroy"),o.remote)o.remote.hasOwnProperty(e)&&t.hasOwnProperty(e)&&delete t[e];n.down.destroy()}}};var IBSU_STATUS_OK=0,CAPTURE_SEQ_FLAT_SINGLE_FINGER="1 Flat",CAPTURE_SEQ_ROLL_SINGLE_FINGER="1 Roll",CAPTURE_SEQ_2_FLAT_FINGERS="2 Flats",CAPTURE_SEQ_10_SINGLE_FLAT_FINGERS="10x1 Flats",CAPTURE_SEQ_10_SINGLE_ROLLED_FINGERS="10x1 Rolls",CAPTURE_SEQ_4_FLAT_FINGERS="4 Flats",CAPTURE_SEQ_10_FLAT_WITH_4_FINGER_SCANNER="4-4-2",__LEFT_KEY_BUTTON__=1,__RIGHT_KEY_BUTTON__=2,IBSU_MIN_CONTRAST_VALUE=0,IBSU_MAX_CONTRAST_VALUE=34,IBSU_OPTION_AUTO_CONTRAST=1,IBSU_OPTION_AUTO_CAPTURE=2,IBSU_OPTION_IGNORE_FINGER_COUNT=4;function getQueryParams(e){e=e.split("+").join(" ");for(var t,n={},o=/[?&]?([^=]+)=([^&]*)/g;t=o.exec(e);)n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return n}IBSU_BeeperType={ENUM_IBSU_BEEPER_TYPE_NONE:0,ENUM_IBSU_BEEPER_TYPE_MONOTONE:1},IBSU_FingerCountState={ENUM_IBSU_FINGER_COUNT_OK:0,ENUM_IBSU_TOO_MANY_FINGERS:1,ENUM_IBSU_TOO_FEW_FINGERS:2,ENUM_IBSU_NON_FINGER:3},IBSU_BeepPattern={ENUM_IBSU_BEEP_PATTERN_GENERIC:0,ENUM_IBSU_BEEP_PATTERN_REPEAT:1},IBSU_LedType={ENUM_IBSU_LED_TYPE_NONE:0,ENUM_IBSU_LED_TYPE_TSCAN:1,ENUM_IBSU_LED_TYPE_FSCAN:2},IBSU_FingerQualityState={ENUM_IBSU_FINGER_NOT_PRESENT:0,ENUM_IBSU_QUALITY_GOOD:1,ENUM_IBSU_QUALITY_FAIR:2,ENUM_IBSU_QUALITY_POOR:3,ENUM_IBSU_QUALITY_INVALID_AREA_TOP:4,ENUM_IBSU_QUALITY_INVALID_AREA_LEFT:5,ENUM_IBSU_QUALITY_INVALID_AREA_RIGHT:6,ENUM_IBSU_QUALITY_INVALID_AREA_BOTTOM:7},IBSU_PlatenState={ENUM_IBSU_PLATEN_CLEARD:0,ENUM_IBSU_PLATEN_HAS_FINGERS:1},IBSU_PropertyId={ENUM_IBSU_PROPERTY_PRODUCT_ID:0,ENUM_IBSU_PROPERTY_SERIAL_NUMBER:1,ENUM_IBSU_PROPERTY_VENDOR_ID:2,ENUM_IBSU_PROPERTY_IBIA_VENDOR_ID:3,ENUM_IBSU_PROPERTY_IBIA_VERSION:4,ENUM_IBSU_PROPERTY_IBIA_DEVICE_ID:5,ENUM_IBSU_PROPERTY_FIRMWARE:6,ENUM_IBSU_PROPERTY_REVISION:7,ENUM_IBSU_PROPERTY_PRODUCTION_DATE:8,ENUM_IBSU_PROPERTY_SERVICE_DATE:9,ENUM_IBSU_PROPERTY_IMAGE_WIDTH:10,ENUM_IBSU_PROPERTY_IMAGE_HEIGHT:11,ENUM_IBSU_PROPERTY_IGNORE_FINGER_TIME:12,ENUM_IBSU_PROPERTY_RECOMMENDED_LEVEL:13,ENUM_IBSU_PROPERTY_POLLINGTIME_TO_BGETIMAGE:14,ENUM_IBSU_PROPERTY_ENABLE_POWER_SAVE_MODE:15,ENUM_IBSU_PROPERTY_RETRY_WRONG_COMMUNICATION:16,ENUM_IBSU_PROPERTY_CAPTURE_TIMEOUT:17,ENUM_IBSU_PROPERTY_ROLL_MIN_WIDTH:18,ENUM_IBSU_PROPERTY_ROLL_MODE:19,ENUM_IBSU_PROPERTY_ROLL_LEVEL:20,ENUM_IBSU_PROPERTY_CAPTURE_AREA_THRESHOLD:21,ENUM_IBSU_PROPERTY_ENABLE_DECIMATION:22,ENUM_IBSU_PROPERTY_ENABLE_CAPTURE_ON_RELEASE:23,ENUM_IBSU_PROPERTY_DEVICE_INDEX:24,ENUM_IBSU_PROPERTY_DEVICE_ID:25,ENUM_IBSU_PROPERTY_SUPER_DRY_MODE:26,ENUM_IBSU_PROPERTY_MIN_CAPTURE_TIME_IN_SUPER_DRY_MODE:27,ENUM_IBSU_PROPERTY_ROLLED_IMAGE_WIDTH:28,ENUM_IBSU_PROPERTY_ROLLED_IMAGE_HEIGHT:29,ENUM_IBSU_PROPERTY_NO_PREVIEW_IMAGE:30,ENUM_IBSU_PROPERTY_ROLL_IMAGE_OVERRIDE:31,ENUM_IBSU_PROPERTY_WARNING_MESSAGE_INVALID_AREA:32,ENUM_IBSU_PROPERTY_ENABLE_WET_FINGER_DETECT:33,ENUM_IBSU_PROPERTY_WET_FINGER_DETECT_LEVEL:34,ENUM_IBSU_PROPERTY_WET_FINGER_DETECT_LEVEL_THRESHOLD:35,ENUM_IBSU_PROPERTY_START_POSITION_OF_ROLLING_AREA:36,ENUM_IBSU_PROPERTY_START_ROLL_WITHOUT_LOCK:37,ENUM_IBSU_PROPERTY_ENABLE_TOF:38,ENUM_IBSU_PROPERTY_ENABLE_ENCRYPTION:39,ENUM_IBSU_PROPERTY_IS_SPOOF_SUPPORTED:40,ENUM_IBSU_PROPERTY_ENABLE_SPOOF:41,ENUM_IBSU_PROPERTY_SPOOF_LEVEL:42,ENUM_IBSU_PROPERTY_VIEW_ENCRYPTION_IMAGE_MODE:43,ENUM_IBSU_PROPERTY_FINGERPRINT_SEGMENTATION_MODE:44,ENUM_IBSU_PROPERTY_ROLL_METHOD:45,ENUM_IBSU_PROPERTY_RENEWAL_OPPOSITE_IMGAE_LEVEL:46,ENUM_IBSU_PROPERTY_PREVIEW_IMAGE_QUALITY_FOR_KOJAK:47,ENUM_IBSU_PROPERTY_ADAPTIVE_CAPTURE_MODE:48,ENUM_IBSU_PROPERTY_ENABLE_KOJAK_BEHAVIOR_2_6:49,ENUM_IBSU_PROPERTY_VERTICAL_DIRECTION_SEGMENT:50,ENUM_IBSU_PROPERTY_RESERVED_1:200,ENUM_IBSU_PROPERTY_RESERVED_2:201,ENUM_IBSU_PROPERTY_RESERVED_100:202,ENUM_IBSU_PROPERTY_RESERVED_IMAGE_PROCESS_THRESHOLD:400,ENUM_IBSU_PROPERTY_RESERVED_ENABLE_TOF_FOR_ROLL:401,ENUM_IBSU_PROPERTY_RESERVED_CAPTURE_BRIGHTNESS_THRESHOLD_FOR_FLAT:402,ENUM_IBSU_PROPERTY_RESERVED_CAPTURE_BRIGHTNESS_THRESHOLD_FOR_ROLL:403,ENUM_IBSU_PROPERTY_RESERVED_ENHANCED_RESULT_IMAGE:404,ENUM_IBSU_PROPERTY_RESERVED_ENHANCED_RESULT_IMAGE_LEVEL:405,ENUM_IBSU_PROPERTY_RESERVED_ENABLE_SLIP_DETECTION:406,ENUM_IBSU_PROPERTY_RESERVED_SLIP_DETECTION_LEVEL:407,ENUM_IBSU_PROPERTY_RESERVED_ENABLE_TRICK_CAPTURE:408},IBSU_ImageResolution={ENUM_IBSU_IMAGE_RESOLUTION_500:500,ENUM_IBSU_IMAGE_RESOLUTION_1000:1e3},IBSU_ImageType={ENUM_IBSU_TYPE_NONE:0,ENUM_IBSU_ROLL_SINGLE_FINGER:1,ENUM_IBSU_FLAT_SINGLE_FINGER:2,ENUM_IBSU_FLAT_TWO_FINGERS:3,ENUM_IBSU_FLAT_FOUR_FINGERS:4,ENUM_IBSU_FLAT_THREE_FINGERS:5},IBSU_ImageFormat={IBSU_IMG_FORMAT_GRAY:0,IBSU_IMG_FORMAT_RGB24:1,IBSU_IMG_FORMAT_RGB32:2,IBSU_IMG_FORMAT_UNKNOWN:3},IBSU_RollingState={ENUM_IBSU_ROLLING_NOT_PRESENT:0,ENUM_IBSU_ROLLING_TAKE_ACQUISITION:1,ENUM_IBSU_ROLLING_COMPLETE_ACQUISITION:2,ENUM_IBSU_ROLLING_RESULT_IMAGE:3},IBSU_LEOperationMode={ENUM_IBSU_LE_OPERATION_AUTO:0,ENUM_IBSU_LE_OPERATION_ON:1,ENUM_IBSU_LE_OPERATION_OFF:2},IBSU_HashType={ENUM_IBSU_HASH_TYPE_SHA256:0,ENUM_IBSU_HASH_TYPE_RESERVED:1},IBSU_Warnings={100:" Missing an image frame. (Only used on IBTraceLogger.)",101:"Camera work is wrong. reset is required (Only used on IBLogTracer.) ",200:"Device firmware version outdated.",201:"Device/component has already been initialized and is ready to be used.",202:"API function was deprecated.",203:"Image has already been enhanced.",300:"Device still has not gotten the first image frame.",301:"Rolling has not started.",302:"No finger detected in result image.",303:"Incorrect fingers detected in result image.",304:"Smear detected in rolled result image.",305:"Horizontal Smear detected in rolled result image.",306:"Vertical Smear detected in rolled result image.",307:"Horizontal and vertical smear detected in rolled result image.",400:"Empty result image.",603:"Spoof Detected"};var getIBSUScriptURL=function(){var e=document.getElementsByTagName("script"),t=e[e.length-1];return function(){return t.src}}();let ibsu_url=new URL(getIBSUScriptURL()),ibsu_port=80;ibsu_url.port&&(ibsu_port=ibsu_url.port);let ibsu_proto="ws://";"https:"===ibsu_url.protocol&&(ibsu_proto="wss://");let ibsu_web_host="localhost";var IBSU=new easyXDM.Rpc({remote:ibsu_proto+ibsu_web_host+":"+ibsu_port+"/rpc",onReady:function(){}},{remote:{GetDeviceCount:{},GetDeviceDescription:{},OpenDevice:{},OpenDeviceEx:{},IsDeviceOpened:{},CloseDevice:{},CloseAllDevice:{},SetLEDs:{},GetLEDs:{},GetOperableLEDs:{},GetOperableBeeper:{},SetBeeper:{},EnableTraceLog:{},IsCaptureAvailable:{},IsCaptureActive:{},IsTouchedFinger:{},BeginCaptureImage:{},TakeResultImageManually:{},CancelCaptureImage:{},SetProperty:{},GetProperty:{},GetContrast:{},SetContrast:{},SetLEOperationMode:{},GetLEOperationMode:{},BGetRollingInfo:{},BGetInitProgress:{},SetProcessingOptions:{},GetSDKVersion:{},SetCustomerKey:{}},local:{}}),callbackWebSocket=new WebSocket(ibsu_proto+ibsu_web_host+":"+ibsu_port+"/callback");callbackWebSocket.onopen=function(e){var t=window.IBSU.onSDKConnection;"function"==typeof t&&t.apply(void 0)},callbackWebSocket.onclose=function(e){var t=window.IBSU.onSDKClose;"function"==typeof t&&t.apply(void 0,[e])},callbackWebSocket.onerror=function(){var e=window.IBSU.onSDKConnectionError;"function"==typeof e&&e.apply(void 0)},callbackWebSocket.onmessage=function(e){var t=JSON.parse(e.data),e="on"+t.method,e=window.IBSU[e];if("function"==typeof e)try{e.apply(void 0,t.params)}catch(e){console.error(e,e.stack)}};